import { defineConfig } from 'vitepress'
// import { withMermaid } from "vitepress-plugin-mermaid";
import llmstxt from "vitepress-plugin-llms";

export default defineConfig({
  title: "BlackSlope.NET Documentation",
  description: "Documentation for BlackSlope.NET - A .NET Reference Architecture",
  titleTemplate: ":title - BlackSlope.NET",
  outDir: "./dist",
  lastUpdated: true,
  themeConfig: {
    nav: [
      { text: 'Home', link: '/' },
      { text: 'Getting Started', link: '/getting_started/introduction' },
      { text: 'Architecture', link: '/architecture/overview' },
      { text: 'API Reference', link: '/api_reference/health_api' }
    ],
    sidebar: [
      {
        text: 'Getting Started',
        items: [
          { text: 'Introduction', link: '/getting_started/introduction' },
          { text: 'Prerequisites', link: '/getting_started/prerequisites' },
          { text: 'Installation', link: '/getting_started/installation' },
          { text: 'Quick Start', link: '/getting_started/quick_start' }
        ]
      },
      {
        text: 'Architecture',
        items: [
          { text: 'Overview', link: '/architecture/overview' },
          { text: 'Project Structure', link: '/architecture/project_structure' },
          { text: 'Layers', link: '/architecture/layers' },
          { text: 'Dependency Injection', link: '/architecture/dependency_injection' },
          { text: 'Middleware Pipeline', link: '/architecture/middleware_pipeline' }
        ]
      },
      {
        text: 'Features',
        items: [
          { text: 'Controllers', link: '/features/controllers' },
          { text: 'Services', link: '/features/services' },
          { text: 'Repositories', link: '/features/repositories' },
          { text: 'AutoMapper', link: '/features/automapper' },
          { text: 'Validation', link: '/features/validation' },
          { text: 'Exception Handling', link: '/features/exception_handling' },
          { text: 'Health Checks', link: '/features/health_checks' },
          { text: 'Swagger Integration', link: '/features/swagger_integration' },
          { text: 'Versioning', link: '/features/versioning' },
          { text: 'Correlation ID', link: '/features/correlation_id' },
          { text: 'Resilience (Polly)', link: '/features/resilience' },
          { text: 'HTTP Client', link: '/features/http_client' }
        ]
      },
      {
        text: 'Database',
        items: [
          { text: 'Entity Framework', link: '/database/entity_framework' },
          { text: 'Migrations', link: '/database/migrations' },
          { text: 'Repository Configuration', link: '/database/repository_configuration' },
          { text: 'Seeding Data', link: '/database/seeding_data' }
        ]
      },
      {
        text: 'Configuration',
        items: [
          { text: 'Application Settings', link: '/configuration/application_settings' },
          { text: 'Service Configuration', link: '/configuration/service_configuration' },
          { text: 'Logging', link: '/configuration/logging' }
        ]
      },
      {
        text: 'Security',
        items: [
          { text: 'Authentication', link: '/security/authentication' },
          { text: 'Authorization', link: '/security/authorization' },
          { text: 'CORS', link: '/security/cors' },
          { text: 'Best Practices', link: '/security/best_practices' }
        ]
      },
      {
        text: 'API Reference',
        items: [
          { text: 'Movies API', link: '/api_reference/movies_api' },
          { text: 'Health API', link: '/api_reference/health_api' },
          { text: 'Version API', link: '/api_reference/version_api' },
          { text: 'Error Responses', link: '/api_reference/error_responses' }
        ]
      },
      {
        text: 'Testing',
        items: [
          { text: 'Overview', link: '/testing/overview' },
          { text: 'Unit Tests', link: '/testing/unit_tests' },
          { text: 'Integration Tests', link: '/testing/integration_tests' },
          { text: 'BDD Tests', link: '/testing/bdd_tests' },
          { text: 'Test Utilities', link: '/testing/test_utilities' }
        ]
      },
      {
        text: 'Development',
        items: [
          { text: 'Environment Setup', link: '/development/environment' },
          { text: 'Build Scripts', link: '/development/build_scripts' },
          { text: 'Code Quality', link: '/development/code_quality' },
          { text: 'Utilities', link: '/development/utilities' },
          { text: 'Contributing', link: '/development/contributing' }
        ]
      },
      {
        text: 'Deployment',
        items: [
          { text: 'Docker', link: '/deployment/docker' },
          { text: 'Kubernetes', link: '/deployment/kubernetes' },
          { text: 'Monitoring', link: '/deployment/monitoring' },
          { text: 'Versioning Strategy', link: '/deployment/versioning_strategy' },
          { text: 'Production Best Practices', link: '/deployment/production_best_practices' }
        ]
      },
      {
        text: 'Troubleshooting',
        items: [
          { text: 'Common Issues', link: '/troubleshooting/common_issues' },
          { text: 'Debugging', link: '/troubleshooting/debugging' },
          { text: 'FAQ', link: '/troubleshooting/faq' }
        ]
      }
    ],
    search: {
      provider: "local",
    },
    footer: {
      message: "",
      copyright: "Â© Slalom, Inc. All rights reserved. Auto-generated by GenAI via TaskStream. Always verify for accuracy.",
    },
    externalLinkIcon: true,
    outline: {
      level: "deep",
      label: "Contents",
    },
  },
  markdown: {
    lineNumbers: true,
  },
  vite: {
    plugins: [
      // llmstxt({
      //   ignoreFiles: [
      //     "introduction/release-notes/*",
      //     "introduction/features.md",
      //   ],
      // }),
    ],
  },
})
